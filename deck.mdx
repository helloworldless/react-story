import { Box, Image } from 'theme-ui'

import { CodeSurfer, CodeSurferColumns, Step } from "code-surfer"
import { vsDark as codeTheme } from "@code-surfer/themes"

import { Steps, themes } from 'mdx-deck'

import reactPrototype from './react-prototype.png';
import reactPrototypeCircled from './react-prototype-circled.png';

export const theme = themes.dark;


# Intro to React

### A different take...

---

# Compare

<div style={{width: '75%'}}>

  Your first day on the job. You know vanilla JS. You're expected to contribute right away to an existing codebase. Which one would you prefer?

  - modules, components, templates, data binding, directives, observables, services, dependency injection, etc.
  - functions, state, effects

</div>

See [Minimal API Surface Area - Learning patterns instead of frameworks](https://2014.jsconf.eu/speakers/sebastian-markbage-minimal-api-surface-area-learning-patterns-instead-of-frameworks.html)

---

# Origins

1. Facebook culture
1. Separation of concerns
1. Dog-fooding

Bonus: [Hack](https://hacklang.org/) and [XHP](https://en.wikipedia.org/wiki/XHP)

---

# Early React Prototype

<img src={reactPrototype} style={{height: '50%', width: '50%'}} alt="React prototype with six lines of trailing tokens" />

Source: [Jordan Walke - React to the Future](https://www.youtube.com/watch?v=5fG_lyNuEAw)

---

# What People Saw

<img src={reactPrototypeCircled} style={{height: '50%', width: '50%'}} alt="React prototype with six lines of trailing tokens circled" />

Source: [Jordan Walke - React to the Future](https://www.youtube.com/watch?v=5fG_lyNuEAw)

---


<CodeSurferColumns sizes={[1, 2]} themes={[codeTheme, codeTheme]}>

<Step>

  ##  JSX and [Babel](https://babeljs.io/)

  ```jsx
  const Header = (props) => <h1>{props.text}</h1>;
  // function Box(props) { ... }

  <Box size="large">
    <Header text="Hello JSX" />
    <h2 className="header">Some text</h2>
  </Box>

  // React.createElement :: (HTML tag string | Component) => (props object) => (...children) => React Node
  React.createElement(Box, {size: "large"}, 
    React.createElement(Header, {text: "Hello JSX"}), 
    React.createElement("h2", {className: "header"}, "Some text"));
  ```

</Step>

</CodeSurferColumns>

---

<CodeSurferColumns sizes={[1, 2]} themes={[codeTheme, codeTheme]}>

<Step>

  ##  Function Components

  ```jsx
  // Button.js
  function Button(props) {
    const type = props.submit ? 'submit' : 'button';
    return <button type={props.type} className=`btn btn-${props.color}`>{props.children}</button>;
  }

  // Form.js
  function EditUserForm() {
    return (
      <form>
        <input type="text" name="firstName" onChange={handleChange} />
        <Button color='primary' submit>Save Changes</Button>
      </form>
    );
  }
  ```

</Step>

<Step>

  ##  Function Components

  ```jsx
  // Button.js
  function Button({ color, submit, children }) {
    const type = submit ? 'submit' : 'button';
    return <button type={type} className=`btn btn-${color}`>{children}</button>;
  }

  // Form.js
  function EditUserForm() {
    return (
      <form>
        <input type="text" name="firstName" onChange={handleChange} />
        <Button color='primary' submit>Save Changes</Button>
      </form>
    );
  }
  
  ```
</Step>

</CodeSurferColumns>

---

# Detour: Class Components

https://reactjs.org/docs/state-and-lifecycle.html#adding-lifecycle-methods-to-a-class

---

# Testing

<Steps>

1. [Jest](https://jestjs.io/)
1. [React Testing Library](https://testing-library.com/docs/react-testing-library/intro)
1. [RTL Example](https://codesandbox.io/s/github/kentcdodds/react-testing-library-examples?file=/src/__local_tests__/async-with-mock.js)

</Steps>

---

# Interesting Things

<Steps>

1. [List of React renderers](https://github.com/chentsulin/awesome-react-renderer)
1. React-based terminal - [Hyper](https://hyper.is/)
1. JSX with Markdown - [MDX](https://mdxjs.com/)
1. [react-spring](https://mdxjs.com/)
1. [React VR](https://facebook.github.io/react-360/)
1. Server-Side Rendering
1. [Concurrent React](https://reactjs.org/docs/concurrent-mode-intro.html)
1. [NextJS](https://nextjs.org/)
1. [Storybook](https://storybook.js.org/)
1. [RedwoodJS](https://redwoodjs.com/)


</Steps>

---

# The End